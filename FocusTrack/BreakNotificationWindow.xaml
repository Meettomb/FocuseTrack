<Window x:Class="FocusTrack.BreakNotificationWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        Width="350"
        Height="130"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        Loaded="Window_Loaded"
        Closing="Window_Closing">

    <Window.Resources>
        <!-- Pulsating animation for clock icon -->
        <Storyboard x:Key="PulseAnimation" RepeatBehavior="Forever" AutoReverse="True">
            <DoubleAnimation Storyboard.TargetName="Clock"
                             Storyboard.TargetProperty="Width"
                             From="24" To="30" Duration="0:0:0.6"/>
            <DoubleAnimation Storyboard.TargetName="Clock"
                             Storyboard.TargetProperty="Height"
                             From="24" To="30" Duration="0:0:0.6"/>
        </Storyboard>
    </Window.Resources>

    <Grid>
        <!-- Drop shadow effect -->
        <Border CornerRadius="15" 
        Background="#FF2D2D30" 
        Padding="15" 
        Opacity="0.95">
            <Border.Effect>
                <DropShadowEffect 
            Color="Black" 
            BlurRadius="15" 
            ShadowDepth="5" 
            Opacity="0.5"/>
            </Border.Effect>
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" >

                <Grid Margin="0 0 0 10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Clock Icon with animation -->
                    <materialDesign:PackIcon x:Name="Clock"
                                             Kind="Clock"
                                             Width="24"
                                             Height="24"
                                             Foreground="#FF4CAF50"
                                             VerticalAlignment="Center"
                                             HorizontalAlignment="Center"
                                             Margin="0 0 15 0"/>

                    <!-- Main Title -->
                    <TextBlock Text="Break Time!" 
                               Grid.Column="1"
                               FontSize="20" 
                               FontWeight="Bold" 
                               Foreground="White"
                               VerticalAlignment="Center"/>

                    <!-- Dismiss button -->
                    <Button Grid.Column="2"
                            Content="✕"
                            Width="25"
                            Height="25"
                            Background="Transparent"
                            BorderThickness="0"
                            Foreground="White"
                            FontWeight="Bold"
                            Cursor="Hand"
                            Click="CloseButton_Click"/>
                </Grid>

                <!-- Subtitle -->
                <TextBlock Text="Time to take a short break." 
                           FontSize="15"
                           Foreground="White"
                           HorizontalAlignment="Center"/>

                <!-- Optional Gradient Bar -->
                <Border Height="4" 
                        Margin="20,10,20,0"
                        CornerRadius="2">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                            <GradientStop Color="#FF4CAF50" Offset="0"/>
                            <GradientStop Color="#FF81C784" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>
                </Border>

            </StackPanel>
        </Border>
    </Grid>
</Window>
